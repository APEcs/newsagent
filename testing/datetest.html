<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Date test</title>

    <link rel="stylesheet" type="text/css" href="../templates/default/css/core.css" />

    <!-- mootools for effects and javascript sanity -->
    <script type='text/javascript' src="../templates/default/js/mootools-core.js"></script>
    <script type='text/javascript' src="../templates/default/js/mootools-more.js"></script>

    <!-- lightface for popup window -->
    <script type='text/javascript' src="../templates/default/lightface/LightFaceMod.js"></script>
    <link href="../templates/default/lightface/LightFace.css" rel="stylesheet" type="text/css" />

    <!-- userbar support -->
    <script type='text/javascript' src="../templates/default/js/userbar.js"></script>
    <link rel="stylesheet" type="text/css" href="../templates/default/css/userbar.css" />

    <!-- favicon -->
    <link rel="icon" type="image/png" href="../templates/default/images/favicon.png" />

        <!-- editor replacement -->
    <script type="text/javascript" src="../ckeditor/ckeditor.js"></script>
    <script type="text/javascript" src="../templates/common/cke_configs/basic_open.js"></script>

    <!-- date picker related -->
    <!--script src="/templates/default/datepicker/Locale.en-US.DatePicker.js" type="text/javascript"></script -->
    <script src="../templates/default/js/Locale.en-GB.DatePicker.js" type="text/javascript"></script>
    <script src="../templates/default/datepicker/Picker.js" type="text/javascript"></script>
    <script src="../templates/default/datepicker/Picker.Attach.js" type="text/javascript"></script>
    <script src="../templates/default/datepicker/Picker.Date.js" type="text/javascript"></script>
    <link href="../templates/default/datepicker/datepicker_dashboard/datepicker_dashboard.css" rel="stylesheet" />

    <!-- Tabbed interface support -->
    <script src="../templates/default/js/TabPane.js" type="text/javascript"></script>

    <!-- images in select boxes -->
    <script src="../templates/default/fancyselect/FancySelect.js" type="text/javascript"></script>
    <link href="../templates/default/fancyselect/FancySelect.css" rel="stylesheet" />

    <!-- checkbox-based multiselect -->
    <script src="../templates/default/MultiSelect/Source/MultiSelect.js" type="text/javascript"></script>
    <link href="../templates/default/MultiSelect/css/MultiSelect.css" rel="stylesheet" />

    <!-- twitter related -->
    <script type="text/javascript" src="../templates/default/js/twitter-text.js"></script>

    <!-- newsagent features -->
    <script type="text/javascript" src="../templates/default/js/api.js"></script>
    <link href="../templates/default/css/compose.css" rel="stylesheet" />

    <!--[if IE]>
    <style type="text/css">
    </style>
    <![endif]-->
    <script type="text/javascript">
// <![CDATA[
        spinner_url = "../templates/default/images/spinner.gif";
        basepath = "../";
        tempath  = "../templates/default/";
// ]]>
    </script>
</head>
<body id="newsagent" class="newsagent">
<div id="content" class="content clear" style="margin-top: 30px;">
    <dl class="input" id="comp-reldate">
         <dt><label for="release_date">Select a date and time</label></dt>
         <dd><input class="fillwide datepick" type="text" name="release_date" id="release_date" size="16" maxlength="16" value="" /></dd>
    </dl>
    <input type="hidden" name="rtimestamp" id="rtimestamp" value="" />

    <p>Equivalent timestamp: <span id="localtime"></span></p>
    <p>UTC offset: <span id="utcoff"></span></p>
    <p>toString: <span id="string"></span></p>
    <p>toUTCString: <span id="utcstring"></span></p>

    <script type="text/javascript">
// <![CDATA[
window.addEvent('domready', function() {
    $$('a.rel').each(function(element) {
                         element.addEvent('click',
                                          function (e) {
                                              e.stop();
                                              window.open(element.href);
                                          });
                     });

    errbox = new LightFace({title: 'Error',
                            draggable: false,
                            overlayAll: true,
                            buttons: [
                                      { title: 'Okay', event: function() { errbox.close(); }, color: 'blue' },
                            ],
                            content: '<table><tr><td class="nbox-image"><img src="/templates/default/images/error.png" width="48" height="48" alt="error" /></td><td class="nbox-text" id="errboxmsg"></td></tr></table>'
    });
    popbox = new LightFace({title: '<div id="poptitle"><span style="color: red">&lt;PAGE_POPUP&gt;</span></div>',
                            draggable: false,
                            overlayAll: true,
                            content: '<div id="popbody"></div>',
                            zIndex: 8001,
                            pad: 200,
                            width: '800px',
    });

    Locale.use('en-GB');
    rdate_picker = new Picker.Date($('release_date'), { timePicker: true,
                                                        yearPicker: true,
                                                        positionOffset: {x: 5, y: 0},
                                                        pickerClass: 'datepicker_dashboard',
                                                        useFadeInOut: !Browser.ie,
                                                        onSelect: function(date) {
                                                            date.setSeconds(0);
                                                            date.setMilliseconds(0);
                                                            $('rtimestamp').set('value', date.format('%s'));
                                                            $('localtime').set('text', date.format('%s'));
                                                            $('utcoff').set('text', date.getTimezoneOffset());
                                                            $('string').set('text', date.toString());
                                                            $('utcstring').set('text', date.toUTCString());
                                                        }
                                                      });
});
// ]]>
    </script>
</div>
<div id="userbar">
    <div class="bar-container">
        <ul class="site-options top-menu">
            <li id="site-name" title="Date test">Javascript date testing page</li>
        </ul>
    </div>
</div>

</body>
</html>
